<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Bayesian Network Visualization</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
    <!-- Using cola.js layout as it can handle DAGs well and often looks better -->
    <script src="https://unpkg.com/cola@4/cola.min.js"></script>
    <script src="https://unpkg.com/cytoscape-cola@2.5.1/cytoscape-cola.js"></script>
    <script>
        // Register the cola layout extension with Cytoscape
        // The cytoscape-cola.js script should expose a function (often named cytoscapeCola)
        // that needs to be passed to cytoscape.use().
        // Check the documentation if 'cytoscapeCola' is not the correct global variable name.
        // Based on common patterns and the script name, it's likely cytoscapeCola or cola
        // Let's try `cytoscapeCola` first. If that fails, try `cytoscape.use( window.cola );`
        try {
             cytoscape.use( cytoscapeCola );
             console.log("Cytoscape Cola layout registered.");
        } catch (e) {
             console.error("Failed to register Cytoscape Cola layout:", e);
             // Fallback attempt if 'cytoscapeCola' is not exposed or is named differently
             // Some extensions might attach directly to the window object under a different name
             try {
                 if (window.cytoscape) {
                     // Check if a cola function exists on window that looks like the extension
                     if (typeof window.cola === 'function') {
                          cytoscape.use( window.cola );
                          console.log("Cytoscape Cola layout registered using window.cola.");
                     } else {
                         console.error("Cannot find Cytoscape Cola extension function on window.");
                     }
                 }
             } catch(e2) {
                 console.error("Secondary attempt to register Cola layout failed:", e2);
             }
        }

    </script>
</head>
<body>
    <h1>LLM-Powered Cognitive Network Simulation</h1>

    <div class="controls">
        <h2>Inputs (Probabilities 0.0 - 1.0)</h2>
        <label for="input-A1">A1 (Domain Expertise):</label>
        <input type="number" id="input-A1" name="A1" min="0" max="1" step="0.01" value="0.5"><br>
        <label for="input-A2">A2 (Web Literacy):</label>
        <input type="number" id="input-A2" name="A2" min="0" max="1" step="0.01" value="0.5"><br>
        <label for="input-A3">A3 (Task Familiarity):</label>
        <input type="number" id="input-A3" name="A3" min="0" max="1" step="0.01" value="0.5"><br>
         <label for="input-A4">A4 (Goal Clarity):</label>
        <input type="number" id="input-A4" name="A4" min="0" max="1" step="0.01" value="0.5"><br>
         <label for="input-A5">A5 (Motivation):</label>
        <input type="number" id="input-A5" name="A5" min="0" max="1" step="0.01" value="0.5"><br>
         <label for="input-UI">UI (UI State):</label>
        <input type="number" id="input-UI" name="UI" min="0" max="1" step="0.01" value="0.5"><br>
         <label for="input-H">H (History):</label>
        <input type="number" id="input-H" name="H" min="0" max="1" step="0.01" value="0.5"><br>

        <button id="update-button">Update Probabilities</button>
    </div>

    <div id="cy"></div>

    <div class="llm-context">
        <h2>LLM Context (Provided to the Model)</h2>
        <div id="input-context">
            <h3>Input States Provided:</h3>
            <p>Gathering inputs...</p>
        </div>
         <div id="structure-context">
            <h3>Node Dependencies (DAG):</h3>
            <p>Loading structure...</p>
        </div>
         <div id="rules-context">
            <h3>Qualitative Rules Provided:</h3>
            <p>Loading rules...</p>
        </div>
        <div id="node-descriptions-context">
            <h3>Node Descriptions:</h3>
             <p>Loading descriptions...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
